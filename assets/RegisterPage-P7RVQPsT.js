import{e as u,i as p,r as c,k as w,j as s,S as f,B as g}from"./index-DKGbaZLL.js";import{u as x,T as h,P as i,N as P}from"./use-form-BqEs3Z68.js";import{T as j}from"./Title-C9oQxO2G.js";import{G as b}from"./Group-B2wnFWq8.js";import{B as F}from"./Button-DIWObMGO.js";import"./use-id-wrMgMW9K.js";const R=()=>{const{user:e,logIn:n,isLoading:l,isError:m}=u(),o=p(),a=x({initialValues:{username:"",password:"",confirmPassword:""},validate:{username:r=>r.length<2?"Username must have at least 2 letters":null,password:r=>r.length<6?"Password must have at least 6 letters":null,confirmPassword:(r,t)=>r!==t.password?"Passwords did not match":null}});c.useEffect(()=>{(e==null?void 0:e.username)!==void 0&&o("/",{replace:!0})},[e,o]);const d=a.onSubmit(({username:r,password:t})=>w({username:r,password:t},()=>{n({username:r,password:t},()=>o("/",{replace:!0}))}));return l||m?s.jsx(f,{}):s.jsxs(g,{maw:340,mx:"auto",mt:100,children:[s.jsx(j,{ta:"center",c:"#0000FF",children:"Registration"}),s.jsxs("form",{onSubmit:d,children:[s.jsx(h,{id:"register-username",radius:5,c:"#FFC94C",label:"Username",placeholder:"Username",...a.getInputProps("username")}),s.jsx(i,{id:"register-password",radius:5,c:"#FFC94C",label:"Password",placeholder:"Password",...a.getInputProps("password")}),s.jsx(i,{id:"register-confirm-password",radius:5,c:"#FFC94C",label:"Confirm password",placeholder:"Confirm password",...a.getInputProps("confirmPassword")}),s.jsxs(b,{wrap:"nowrap",mt:"md",children:[s.jsx(P,{href:"/login",label:"Уже зарегистрированы?",variant:"subtle",active:!0,c:"#FF0000",fw:"bold"}),s.jsx(F,{type:"submit",w:"120px",bg:"#006400",radius:5,children:"Register"})]})]})]})};export{R as RegisterPage};
