import{p as B,u as F,a as P,R as g,B as m,c as k,d as E,r as x,j as e,C as L,T as U,e as $,i as z,l as A,S as G}from"./index-BhokE0d1.js";import{G as h}from"./Group-N9xu450x.js";import{u as M,T as _,P as V,N as q}from"./use-form-D-Va34XS.js";import{T as D}from"./Title-DrqN76T-.js";import{B as H}from"./Button-DbjgDowR.js";import"./use-id-CmXdRf72.js";var N={root:"m-2ce0de02"};const J={},K=k((r,{radius:s})=>({root:{"--bi-radius":s===void 0?void 0:E(s)}})),f=B((r,s)=>{const a=F("BackgroundImage",J,r),{classNames:c,className:n,style:t,styles:l,unstyled:o,vars:u,radius:d,src:i,variant:v,...I}=a,p=P({name:"BackgroundImage",props:a,classes:N,className:n,style:t,classNames:c,styles:l,unstyled:o,vars:u,varsResolver:K});return g.createElement(m,{ref:s,variant:v,...p("root",{style:{backgroundImage:`url(${i})`}}),...I})});f.classes=N;f.displayName="@mantine/core/BackgroundImage";var T={root:"m-9e117634"};const O={},Q=k((r,{radius:s,fit:a})=>({root:{"--image-radius":s===void 0?void 0:E(s),"--image-object-fit":a}})),j=B((r,s)=>{const a=F("Image",O,r),{classNames:c,className:n,style:t,styles:l,unstyled:o,vars:u,onError:d,src:i,radius:v,fit:I,fallbackSrc:p,mod:w,...y}=a,[R,b]=x.useState(!i);x.useEffect(()=>b(!i),[i]);const S=P({name:"Image",classes:T,props:a,className:n,style:t,classNames:c,styles:l,unstyled:o,vars:u,varsResolver:Q});return R&&p?g.createElement(m,{component:"img",src:p,...S("root"),onError:d,mod:["fallback",w],...y}):g.createElement(m,{component:"img",ref:s,...S("root"),src:i,onError:C=>{d==null||d(C),b(!0)},mod:w,...y})});j.classes=T;j.displayName="@mantine/core/Image";const W=({justify:r="center",m:s="none",p:a="none",h:c=100,src:n="src/assets/sadSmiley.jpg",fit:t="contain",radius:l="50%"})=>e.jsx(h,{justify:r,children:e.jsx(m,{m:s,p:a,children:e.jsx(j,{radius:l,h:c,w:"auto",fit:t,src:n})})}),X=({justify:r="center",m:s="none",p:a="md",h:c=150,w:n=300,src:t="https://img.freepik.com/free-photo/forest-landscape_71767-127.jpg?size=626&ext=jpg&ga=GA1.1.1546980028.1710374400&semt=ais",radius:l="15px",c:o="white",title:u="Компонент BgImageMT можно использовать для добавления любого контента на изображение."})=>e.jsx(h,{justify:r,children:e.jsx(m,{maw:300,mx:"auto",m:s,children:e.jsx(f,{src:t,radius:l,h:c,w:n,children:e.jsx(L,{p:a,children:e.jsx(U,{c:o,children:u})})})})}),te=()=>{const{user:r,logIn:s,isLoading:a,isError:c}=$(),n=z(),t=M({initialValues:{username:"",password:""},validate:{username:o=>o.length<2?"Username must have at least 2 letters":null,password:o=>o?null:"Invalid password"}});x.useEffect(()=>{(r==null?void 0:r.username)!==void 0&&n("/",{replace:!0})},[r,n]);const l=t.onSubmit(o=>A(o,()=>{s(o,()=>n("/",{replace:!0}))}));return a||c?e.jsx(G,{}):e.jsxs(m,{maw:340,mx:"auto",mt:100,children:[e.jsx(D,{ta:"center",c:"#0000FF",children:"Authorization"}),e.jsxs("form",{onSubmit:l,children:[e.jsx(_,{id:"login-username",radius:5,c:"#FFC94C",label:"Username",placeholder:"Username",...t.getInputProps("username")}),e.jsx(V,{id:"login-password",radius:5,c:"#FFC94C",label:"Password",placeholder:"Password",...t.getInputProps("password")}),e.jsxs(h,{wrap:"nowrap",mt:"md",children:[e.jsx(q,{href:"/register",label:"Ещё не зарегистрированы?",variant:"subtle",active:!0,c:"#FF0000",fw:"bold"}),e.jsx(H,{type:"submit",w:"120px",bg:"#006400",radius:5,children:"Login"})]})]}),e.jsx(X,{m:10,title:"Cool"}),(t.errors.username||t.errors.password||c)&&e.jsx(W,{})]})};export{te as LoginPage};
